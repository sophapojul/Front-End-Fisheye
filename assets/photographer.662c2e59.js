import{g as i,a as p,m as h,p as l}from"./api.3b302032.js";let o;o=null;const m='img, button,  input,  textarea, [tabindex]:not([tabindex="-1"])';let n=[],d=null;function r(){!o||(d!==null&&d.focus(),o.style.display="none",o.setAttribute("aria-hidden","true"),o.setAttribute("aria-modal","false"),o.removeEventListener("click",r),o.querySelector(".modal_close").removeEventListener("click",r),o.querySelector(".modal").removeEventListener("click",e=>e.stopPropagation()),o=null)}function y(){o=document.getElementById("contact_modal"),n=Array.from(o.querySelectorAll(m)),d=document.querySelector(":focus"),o.style.display="block",n[0].focus(),o.removeAttribute("aria-hidden"),o.setAttribute("aria-modal","true"),o.addEventListener("click",r),o.querySelector(".modal_close").addEventListener("click",r),o.querySelector(".modal").addEventListener("click",e=>e.stopPropagation())}const f=e=>{e.preventDefault();let t=n.findIndex(a=>a===o.querySelector(":focus"));e.shiftKey===!0?t--:t++,t>=n.length&&(t=0),t<0&&(t=n.length-1),n[t].focus()};window.addEventListener("keydown",e=>{e.key==="Escape"&&r(),e.key==="Tab"&&o&&f(e)});const s=()=>{const t=new URL(window.location.href).searchParams.get("id");return parseInt(t,10)},g=e=>{const t=s();return e.find(a=>a.id===t)},M=e=>{const t=s();return e.filter(a=>a.photographerId===t)};async function v(e){const t=document.querySelector("main"),a=p(t,"section","",{class:"photographer_media"});e.forEach(c=>{const u=h(c).getUserMediaDOM();a.appendChild(u)})}async function E(e){const t=document.querySelector("main"),c=l(e).getUserHeaderDOM();t.appendChild(c)}function b(e){const a=l(e).getUserModalDOM();document.body.appendChild(a)}(async()=>{const{photographers:e}=await i(),{media:t}=await i(),a=g(e);await E(a),await b(a),await v(M(t)),document.querySelector(".photographer_contact").addEventListener("click",y)})();
