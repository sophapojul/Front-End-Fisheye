import{g as l,a as y,m as f,p as s,l as M}from"./api.2286c359.js";let t;t=null;const v='img, button,  input,  textarea, [tabindex]:not([tabindex="-1"])';let n=[],i=null;const u=e=>{e.key==="Escape"&&r()},p=e=>{e.preventDefault();let o=n.findIndex(a=>a===t.querySelector(":focus"));e.shiftKey===!0?o-=1:o+=1,o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o].focus()};function r(){!t||(i!==null&&i.focus(),t.style.display="none",t.setAttribute("aria-hidden","true"),t.setAttribute("aria-modal","false"),t.removeEventListener("click",r),t.querySelector(".modal_close").removeEventListener("click",r),t.querySelector(".modal").removeEventListener("click",e=>e.stopPropagation()),t.removeEventListener("keydown",p),t.removeEventListener("keydown",u),t=null)}function E(){t=document.getElementById("contact_modal"),n=Array.from(t.querySelectorAll(v)),i=document.querySelector(":focus"),t.style.display="block",n[0].focus(),t.removeAttribute("aria-hidden"),t.setAttribute("aria-modal","true"),t.addEventListener("click",r),t.querySelector(".modal_close").addEventListener("click",r),t.querySelector(".modal").addEventListener("click",e=>e.stopPropagation()),t.addEventListener("keydown",p),t.addEventListener("keydown",u)}const h=document.querySelector("main"),m=()=>{const o=new URL(window.location.href).searchParams.get("id");return parseInt(o,10)},b=e=>{const o=m();return e.find(a=>a.id===o)},k=e=>{const o=m();return e.filter(a=>a.photographerId===o)};async function L(e){const o=y(h,"section","",{class:"photographer_media"});e.forEach(a=>{const d=f(a).getUserMediaDOM();o.appendChild(d)})}async function w(e){const a=s(e).getUserHeaderDOM();h.appendChild(a)}function S(e){const a=s(e).getUserModalDOM();document.body.appendChild(a)}function D(){const e=Array.from(document.querySelectorAll(".product a")),o=[...new Set(e.map(a=>a.getAttribute("href")))];e.forEach(a=>a.addEventListener("click",c=>{c.preventDefault();const d=M(o),g=d.getLightboxDOM();d.getImageDOM(c.currentTarget.getAttribute("href")),document.body.appendChild(g)}))}(async()=>{const{photographers:e}=await l(),{media:o}=await l(),a=b(e);await w(a),await S(a),await L(k(o)),D(),document.querySelector(".photographer_contact").addEventListener("click",E)})();
