import{g as l,a as g,m,p as s,l as f}from"./api.ed3766d8.js";let o;o=null;const y='img, button,  input,  textarea, [tabindex]:not([tabindex="-1"])';let r=[],d=null;function n(){!o||(d!==null&&d.focus(),o.style.display="none",o.setAttribute("aria-hidden","true"),o.setAttribute("aria-modal","false"),o.removeEventListener("click",n),o.querySelector(".modal_close").removeEventListener("click",n),o.querySelector(".modal").removeEventListener("click",e=>e.stopPropagation()),o=null)}function M(){o=document.getElementById("contact_modal"),r=Array.from(o.querySelectorAll(y)),d=document.querySelector(":focus"),o.style.display="block",r[0].focus(),o.removeAttribute("aria-hidden"),o.setAttribute("aria-modal","true"),o.addEventListener("click",n),o.querySelector(".modal_close").addEventListener("click",n),o.querySelector(".modal").addEventListener("click",e=>e.stopPropagation())}const b=e=>{e.preventDefault();let t=r.findIndex(a=>a===o.querySelector(":focus"));e.shiftKey===!0?t--:t++,t>=r.length&&(t=0),t<0&&(t=r.length-1),r[t].focus()};window.addEventListener("keydown",e=>{e.key==="Escape"&&n(),e.key==="Tab"&&o&&b(e)});const u=document.querySelector("main"),p=()=>{const t=new URL(window.location.href).searchParams.get("id");return parseInt(t,10)},v=e=>{const t=p();return e.find(a=>a.id===t)},E=e=>{const t=p();return e.filter(a=>a.photographerId===t)};async function k(e){const t=g(u,"section","",{class:"photographer_media"});e.forEach(a=>{const i=m(a).getUserMediaDOM();t.appendChild(i)})}async function w(e){const a=s(e).getUserHeaderDOM();u.appendChild(a)}function L(e){const a=s(e).getUserModalDOM();document.body.appendChild(a)}function S(){const e=Array.from(document.querySelectorAll(".product a")),t=[...new Set(e.map(a=>a.getAttribute("href")))];e.forEach(a=>a.addEventListener("click",c=>{c.preventDefault();const i=f(t),h=i.getLightboxDOM();i.getImageDOM(c.currentTarget.getAttribute("href")),document.body.appendChild(h)}))}(async()=>{const{photographers:e}=await l(),{media:t}=await l(),a=v(e);await w(a),await L(a),await k(E(t)),S(),document.querySelector(".photographer_contact").addEventListener("click",M)})();
